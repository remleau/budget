{"ast":null,"code":"var _jsxFileName = \"/Users/remygroleau/Documents/dev/remleau/budget/src/hooks/useNotifications.js\",\n  _s = $RefreshSig$();\nimport { useMemo, useCallback, useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { ROUTES } from \"../utils/Routes\";\nimport { useGlobalContext } from \"../utils/GlobalProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction useNotifications() {\n  _s();\n  const {\n    pb\n  } = useGlobalContext();\n  const [test, setTest] = useState(null);\n  const [notifications, setNotifications] = useState(null);\n  pb.beforeSend = function (url, options) {\n    setTest(prevState => {\n      options.method;\n    });\n    return {\n      url,\n      options\n    };\n  };\n  pb.afterSend = function (response, data) {\n    if (response.status !== 200) return response;\n    switch (data === null || data === void 0 ? void 0 : data.collectionName) {\n      case \"categories\":\n        setNotifications(() => /*#__PURE__*/_jsxDEV(NavLink, {\n          to: ROUTES.CATEGORIE.replace(\":id\", data === null || data === void 0 ? void 0 : data.id.toString()),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Categorie \", data === null || data === void 0 ? void 0 : data.name, \" added\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 6\n        }, this));\n        break;\n      case \"users\":\n        setNotifications(() => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Updated\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 28\n        }, this));\n        break;\n      default:\n        break;\n    }\n    return data;\n  };\n  useEffect(() => {\n    if (test) console.log(test);\n  }, [test]);\n  return useMemo(() => {\n    return notifications;\n  }, [notifications]);\n}\n_s(useNotifications, \"OkPP+Z/vaiMRET4YyzvuJ06iOI0=\", false, function () {\n  return [useGlobalContext];\n});\nexport default useNotifications;","map":{"version":3,"names":["useMemo","useCallback","useState","useEffect","NavLink","ROUTES","useGlobalContext","jsxDEV","_jsxDEV","useNotifications","_s","pb","test","setTest","notifications","setNotifications","beforeSend","url","options","prevState","method","afterSend","response","data","status","collectionName","to","CATEGORIE","replace","id","toString","children","name","fileName","_jsxFileName","lineNumber","columnNumber","console","log"],"sources":["/Users/remygroleau/Documents/dev/remleau/budget/src/hooks/useNotifications.js"],"sourcesContent":["import { useMemo, useCallback, useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport { ROUTES } from \"../utils/Routes\";\nimport { useGlobalContext } from \"../utils/GlobalProvider\";\n\nfunction useNotifications() {\n\tconst { pb } = useGlobalContext();\n\n\tconst [test, setTest] = useState(null);\n\tconst [notifications, setNotifications] = useState(null);\n\n\tpb.beforeSend = function (url, options) {\n\t\tsetTest((prevState) => {\n\t\t\toptions.method;\n\t\t});\n\t\treturn { url, options };\n\t};\n\n\tpb.afterSend = function (response, data) {\n\t\tif (response.status !== 200) return response;\n\n\t\tswitch (data?.collectionName) {\n\t\t\tcase \"categories\":\n\t\t\t\tsetNotifications(() => (\n\t\t\t\t\t<NavLink to={ROUTES.CATEGORIE.replace(\":id\", data?.id.toString())}>\n\t\t\t\t\t\t<div>Categorie {data?.name} added</div>\n\t\t\t\t\t</NavLink>\n\t\t\t\t));\n\t\t\t\tbreak;\n\t\t\tcase \"users\":\n\t\t\t\tsetNotifications(() => <div>Updated</div>);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn data;\n\t};\n\n\tuseEffect(() => {\n\t\tif (test) console.log(test);\n\t}, [test]);\n\n\treturn useMemo(() => {\n\t\treturn notifications;\n\t}, [notifications]);\n}\n\nexport default useNotifications;\n"],"mappings":";;AAAA,SAASA,OAAO,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,OAAO,QAAQ,kBAAkB;AAE1C,SAASC,MAAM,QAAQ,iBAAiB;AACxC,SAASC,gBAAgB,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,SAASC,gBAAgBA,CAAA,EAAG;EAAAC,EAAA;EAC3B,MAAM;IAAEC;EAAG,CAAC,GAAGL,gBAAgB,EAAE;EAEjC,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACY,aAAa,EAAEC,gBAAgB,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAExDS,EAAE,CAACK,UAAU,GAAG,UAAUC,GAAG,EAAEC,OAAO,EAAE;IACvCL,OAAO,CAAEM,SAAS,IAAK;MACtBD,OAAO,CAACE,MAAM;IACf,CAAC,CAAC;IACF,OAAO;MAAEH,GAAG;MAAEC;IAAQ,CAAC;EACxB,CAAC;EAEDP,EAAE,CAACU,SAAS,GAAG,UAAUC,QAAQ,EAAEC,IAAI,EAAE;IACxC,IAAID,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE,OAAOF,QAAQ;IAE5C,QAAQC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEE,cAAc;MAC3B,KAAK,YAAY;QAChBV,gBAAgB,CAAC,mBAChBP,OAAA,CAACJ,OAAO;UAACsB,EAAE,EAAErB,MAAM,CAACsB,SAAS,CAACC,OAAO,CAAC,KAAK,EAAEL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,EAAE,CAACC,QAAQ,EAAE,CAAE;UAAAC,QAAA,eACjEvB,OAAA;YAAAuB,QAAA,GAAK,YAAU,EAACR,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,EAAC,QAAM;UAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAM;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAExC,CAAC;QACF;MACD,KAAK,OAAO;QACXrB,gBAAgB,CAAC,mBAAMP,OAAA;UAAAuB,QAAA,EAAK;QAAO;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAM,CAAC;QAC1C;MAED;QACC;IAAM;IAGR,OAAOb,IAAI;EACZ,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACf,IAAIS,IAAI,EAAEyB,OAAO,CAACC,GAAG,CAAC1B,IAAI,CAAC;EAC5B,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV,OAAOZ,OAAO,CAAC,MAAM;IACpB,OAAOc,aAAa;EACrB,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;AACpB;AAACJ,EAAA,CA1CQD,gBAAgB;EAAA,QACTH,gBAAgB;AAAA;AA2ChC,eAAeG,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}